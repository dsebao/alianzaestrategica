/*!
 * Start Bootstrap - SB Admin 2 v4.1.0 (https://startbootstrap.com/template-overviews/sb-admin-2)
 * Copyright 2013-2020 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

"use strict";var nonce=$('meta[name="csrf-token"]').attr("content");function progressHandlingFunction(e){if(e.lengthComputable){var t=100*e.loaded/e.total;$(".progress").css({height:"3px"}),$(".progress-bar").css({width:t+"%"}),100==t&&($(".progress").css({height:"0"}),$(".progress-bar").css({width:"0%"}))}}function ajaxSend(e,t,a,o,s,n){o=o||"POST",s=s||"json",n=n||!0;$.ajax({type:o,url:jsvar.ajaxurl,dataType:s,data:e,global:n,beforeSend:function(e){t(e)},success:function(e){a(e)},error:function(e){console.log(e)}})}function ajaxSendMedia(e,t,a){$.ajax({type:"POST",url:jsvar.ajaxurl,data:e,enctype:"multipart/form-data",cache:!1,timeout:6e5,contentType:!1,processData:!1,xhr:function(){var e=$.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",progressHandlingFunction,!1),e},beforeSend:function(e){a(e),$("html, body").css("cursor","wait")},success:function(e){t(e),$("html, body").css("cursor","auto")}})}function loadingAjax(){var e=$(".globalcover");$(document).ajaxStart(function(){$("html, body").css("cursor","wait"),e.fadeIn("fast")}).ajaxStop(function(){e.hide(),$("html, body").css("cursor","auto")})}function messageDiv(e,t){notie.alert({type:e,text:t,time:2})}function jsCustomAction(){$("*[data-action]").click(function(e){e.preventDefault();var t=$(this);"js-select-business"==t.data("action")&&ajaxSend("action=userform&typeform=userproject_form&val="+t.data("val"),function(e){},function(e){"error"!=e.result?window.location.href=e.url:messageDiv(e.type,e.message)})})}function ajaxForms(){$("form.js-ajaxform").submit(function(e){var t=$(this);e.preventDefault(),!1===t[0].checkValidity()?(e.preventDefault(),e.stopPropagation()):ajaxSend(t.serialize(),function(e){},function(e){console.log(e),"success"==e.result&&(""!=e.url&&(window.location.href=e.url),e.resetform&&t.trigger("reset")),void 0!==e.message&&messageDiv(e.type,e.message)}),t[0].classList.add("was-validated")}),$("form.js-ajaxform-media").submit(function(e){var t=$(this),a=new FormData(t[0]);e.preventDefault(),!1===t[0].checkValidity()?(e.preventDefault(),e.stopPropagation()):ajaxSendMedia(a,function(e){console.log(e),e.result&&""!=e.redirect&&(window.location.href=e.redirect),void 0!==out.message&&messageDiv(out.type,out.message)},function(e){}),t[0].classList.add("was-validated")})}$.ajaxSetup({headers:{"X-CSRF-TOKEN":nonce}}),function(o){loadingAjax(),o('input[type="file"]').change(function(e){var t=e.target.files[0].name;o(".custom-file-label").html(t)}),o("#sidebarToggle, #sidebarToggleTop").on("click",function(e){o("body").toggleClass("sidebar-toggled"),o(".sidebar").toggleClass("toggled"),o(".sidebar").hasClass("toggled")&&o(".sidebar .collapse").collapse("hide")}),o(window).resize(function(){o(window).width()<768&&o(".sidebar .collapse").collapse("hide"),o(window).width()<480&&!o(".sidebar").hasClass("toggled")&&(o("body").addClass("sidebar-toggled"),o(".sidebar").addClass("toggled"),o(".sidebar .collapse").collapse("hide"))}),o("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(e){if(768<o(window).width()){var t=e.originalEvent,a=t.wheelDelta||-t.detail;this.scrollTop+=30*(a<0?1:-1),e.preventDefault()}}),o(document).on("scroll",function(){100<o(this).scrollTop()?o(".scroll-to-top").fadeIn():o(".scroll-to-top").fadeOut()}),o(document).on("click","a.scroll-to-top",function(e){var t=o(this);o("html, body").stop().animate({scrollTop:o(t.attr("href")).offset().top},1e3,"easeInOutExpo"),e.preventDefault()}),ajaxForms(),jsCustomAction()}(jQuery);